{% extends 'base.html' %}

{% load static %}
{% load blog_tags %}

{% block title %}博客首页{% endblock title%}

{% block sidebar %}
<!--
<div class="card border-0">
	<h6 class="card-title">最新文章</h6>
	{% get_recent_posts as post_list %}
	<div class="card-body">
	<ul>
		{% for post in post_list %}
		<li>
			<a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
		</li>
		{% empty %}
		<li>没有最新文章</li>
		{% endfor %}
	</ul>
	</div>
</div>
-->
<div class="card border-0 bg-white p-2 mb-2">
	<h6 class="card-title"><i class="fa fa-book mr-2"></i>分类</h6>
	{% get_categories as categories %}
	<ul>
		{% for category in categories %}
		<li>
			<a href="{% url 'blog:category' category.pk %}">
				{{ category.name }}<span class="post-count">({{ category.num_posts }})</span>
			</a>
		</li>
		{% empty %}
		<li>还没有分类</li>
		{% endfor %}
	</ul>
</div>

<div class="cardw border-0 bg-white p-2 mb-2">
	<h6 class="card-title"><i class="fa fa-sitemap mr-2"></i>归档</h6>
	{% archive as date_list %}
	<ul>
		{% for date in date_list %}
		<li>
			<a href="{% url 'blog:archives' date.year date.month %}">{{ date.year }}年{{ date.month }}月</a>
		</li>
		{% empty %}
		<li>
			还没有归档
		</li>
		{% endfor %}
	</ul>
</div>

<div class="card border-0 bg-white p-2 mb-2">
	<h6 class="card-title"><i class="fa fa-tags mr-2"></i>标签云</h6>
	{% get_tags as taglist %}
	<div class="tag-cloud">
		<ul class="list-inline">
		{% for tag in taglist %}
		<li class="list-inline-item small">
			<a title="{{tag.name}}标签下有{{tag.num_posts}}篇文章" href="{% url 'blog:tag' tag.pk %}">
			{{ tag.name }}({{ tag.num_posts }})
		</a>
		</li>
		{% empty %}
		还没有标签.
		{% endfor %}
		</ul>
	</div>
</div>
{% endblock sidebar %}

